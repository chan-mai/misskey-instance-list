# コントリビューションガイド

このプロジェクトに興味を持っていただきありがとうございます！このプロジェクトをより良くするための貢献を歓迎します。

## 開発フロー

このプロジェクトでは、Git Flow をベースにしたシンプルなブランチ管理を行っています。

### ブランチ構成

- **`prod`**: 本番環境用ブランチ (デフォルト)。常に動作が保証された最新のリリースコミットが含まれます。
- **`stg`**: ステージング環境用ブランチ。新機能やバグ修正はまずここへマージされます。
- **機能開発・バグ修正**: `feat/` や `fix/` プレフィックスをつけた独自のブランチを作成し、`stg` ブランチへ Pull Request を送ってください。

### 開発サイクル

1.  最新の `stg` ブランチから作業用ブランチを作成します。
2.  変更を加え、コミットします ([コミットメッセージ規約](#コミットメッセージ規約)を参照)。
3.  `stg` ブランチに向けて Pull Request を作成します。
4.  ステージング環境へのデプロイと動作確認後、問題がなければ `stg` にマージされます。
5.  `stg` から `prod` へのプロモーションは、CIワークフローまたは管理者の操作によって行われます。

## コミットメッセージ規約

[Conventional Commits](https://www.conventionalcommits.org/) 形式に従ってください。

- `feat:`: 新機能
- `fix:`: バグ修正
- `docs:`: ドキュメントのみの変更
- `style:`: コードの意味に影響を与えない変更 (ホワイトスペース、フォーマットなど)
- `refactor:`: バグ修正も新機能追加も行わないコードの変更
- `perf:`: パフォーマンスを向上させる変更
- `test:`: 不足しているテストの追加や既存のテストの修正
- `chore:`: ビルドプロセスやドキュメント生成などの補助ツール、ライブラリの変更

## Pull Request の作成

- タイトルは短く簡潔に、目的がわかるようにしてください。
- 変更内容を具体的に記述してください。
- 可能な限り、変更内容に関連するスクリーンショットを添付してください。
- 破壊的な変更が含まれる場合は、その旨を明記してください。

## インフラ構成 (Terraform)

このプロジェクトのインフラは Google Cloud 上で動作しており、Terraform で管理されています。

- `terraform/environments/stg`: ステージング環境
- `terraform/environments/prod`: 本番環境
- `terraform/modules`: 共通モジュール

インフラの変更が必要な場合は、`terraform/` ディレクトリ内のファイルを修正し、PRに含めてください。

## スタイルガイド

- 基本的に ESLint の設定 (`eslint.config.mjs`) に従ってください。
- ファイル名、定数、ディレクトリ名などは、プロジェクトの既存の命名規則に従ってください。

不安な点や質問がある場合は、Issue を作成するか、Pull Request 上でお気軽にお尋ねください。
